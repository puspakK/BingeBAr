<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

   <title>Binge Bar Add-Blog</title> 

    <!-- load stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">  <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/bootstrap.min.css">                                      <!-- Bootstrap style -->
    <link rel="stylesheet" href="css/templatemo-style.css">                                   <!-- Templatemo style -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <![endif]-->
</head>

    <body>
       
        <div class="tm-header" >
            <div class="container-fluid">
                <div class="tm-header-inner">
                    <a href="index.html" class="navbar-brand tm-site-name">Binge Bar</a>
                    <!--  <a href="home.html" class="navbar-brand tm-site-name" style="font-size: 20px;">Places to Travel</a>
                
                     <br/>    -->

                    <!-- navbar -->
                    <nav class="navbar tm-main-nav">
                        
                        <button class="navbar-toggler hidden-md-up" type="button" data-toggle="collapse" data-target="#tmNavbar">
                            &#9776;
                        </button>
                        
                        <div class="collapse navbar-toggleable-sm" id="tmNavbar">
                            <ul class="nav navbar-nav">
                                <li class="nav-item">
                                    <a href="index.html" class="nav-link">Home</a>
                                </li>
                                <li class="nav-item active">
                                    <a href="addblog.html" class="nav-link">Add Blog</a>
                                </li>
                                <li class="nav-item">
                                    <a href="aboutus.html" class="nav-link">About Us</a>
                                </li>
                                <li class="nav-item">
                                    <a href="contactus.html" class="nav-link">Contact Us</a>
                                </li>
                            </ul>                        
                        </div>
                      
                        
                        
                    </nav>  

                </div>                                  
            </div>            
        </div>

        
        <section >
            <div>
                <div class="row" style="padding-top: 0px;padding-bottom: 0px;">

                    <div class="col-xs-12 col-sm-12 col-md-8 col-lg-9 col-xl-9">
                       
                        <div class="row tm-margin-t-big" >
                            <ul id="presentblogs">
                                <li>
                            
                                    <img src="img/seashore.jpg" alt="Image" class="tm-margin-b-30 img-fluid">
                                    <h4 class="tm-margin-b-20 tm-gold-text">Seashore</h4>
                                    <p class="tm-margin-b-20">The seashore is the land that borders an ocean or sea. The seashore includes the area covered by water during high tide... </p>   
                                    <a href="#" class="tm-btn text-uppercase">Read More</a>  
                                    <br/>
                                    <hr class="tm-margin-t-small"> 
                                    <br/> 
                                
                        </li>

                        <li>
                           
                                    <img src="img/mountains.jpg" alt="Image" class="tm-margin-b-30 img-fluid">
                                    <h4 class="tm-margin-b-20 tm-gold-text">Mountains</h4>
                                    <p class="tm-margin-b-20">Mountain, landform that rises prominently above its surroundings, generally exhibiting steep slopes, a relatively confined ...</p>
                                    <a href="#" class="tm-btn text-uppercase">Read More</a>
                                    <br/>
                                    <hr class="tm-margin-t-small"> 
                                    <br/>     
                              
                        </li>

                        <li>
                          
                                    <img src="img/snowfall.jpg" alt="Image" class="tm-margin-b-30 img-fluid">
                                    <h4 class="tm-margin-b-20 tm-gold-text">Hills(Snowfall)</h4>
                                    <p class="tm-margin-b-20">The snowfall in an area or country is the amount of snow that falls there during a particular period. Snowfall occurs mostly in winter...</p>
                                    <a href="#" class="tm-btn text-uppercase">Read More</a>   
                                    <br/>
                                    <hr class="tm-margin-t-small"> 
                                    <br/>  
                                   
                        </li>
                        </ul>
                        </div>
                       
                    </div>
                    
                    <aside class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 tm-aside-r">
                    <br/>
                    <br/>
                    <br/>
                    
                        <div class="tm-aside-container">
                            <h3 class="tm-gold-text tm-title">
                                Write New Blog:
                            </h3>
                            
                            <nav>
                                <ul class="nav">
                                   <li><h4 class="tm-margin-b-20 tm-gold-text">Title:</h4></li>
                                    <li> <input type="text" maxlength="50" name="titlecontent" placeholder="Enter Title for Blog" id="titletxt" style=" padding: 15px"></li>
                                    <li><h4 class="tm-margin-b-20 tm-gold-text">Blog:</h4></li>
                                    <li> <textarea name="blogcontent" id="blogtxt" cols="20" rows="6" placeholder="Enter Content of Blog" style=" padding: 15px"></textarea></li>
                                    <li><h4 class="tm-margin-b-20 tm-gold-text">Add Image:</h4></li>
                                    <li> <input type="file" name="imagecontent" id="imagetxt" onchange="storeimage(event)" accept="image/*"></li>
                              </ul>
                            </nav>
                            <hr class="tm-margin-t-small">  

                             <script type="text/javascript">

                            var imageurl = "";
                            var imagesource;
                            var reader = new FileReader();
                            function storeimage(event) {
                            
                                reader.onload = function(){
                               
                                imagesource = reader.result;
                              //  localStorage.imagesrc = imagesource;
                              //localStorage.setItem(imagesource,JSON.stringify(reader.result));
                                }
                                if (event.target.files[0]) {
                                imageurl = reader.readAsDataURL(event.target.files[0]);
                                //alert("imageurl = " + imageurl);
    }
    

                                
                            }

                               function  addblog() {
                                   
                                

                                    var title = document.getElementById ("titletxt").value;
                                    var blog = document.getElementById ("blogtxt").value;
                                   
                                    //alert("title = " + title); 
                                    //alert("blog = " + blog); 

                                    if (title == "")
                                    {
                                        alert("Please Enter Title of Blog");
                                    }
                                    else if ( blog == "")
                                    {
                                        alert("Please Enter Content for Blog");
                                    }
                                    else if ( imageurl == "" || imageurl == "undefined")
                                    {
                                        alert("Please Enter Image for Blog");
                                    }
                                    else
                                    {
                                        if (typeof(Storage) == "undefined") {
                                        
                                        alert("local storage not accesible");
                                        } 
                                        else 
                                        {
                                
                                            
                                        
                                        //alert("button clicked");
                                        var imag = document.createElement("IMG");
                                        imag.alt="image";
                                        imag.style.width = "310px";
                                        imag.style.height = "180px";
                                       // imag.className = "tm-margin-b-30";
                                        imag.src = imagesource;
                                        //imag.src = localStorage.getItem("imagesource");
                                       // imag.class = "tm-margin-b-30 img-fluid";
                                        

                                        var list = document.getElementById ("presentblogs");
                                        var listItems = list.getElementsByTagName ("li");
                                        
                                        
                                        list.insertBefore(imag,listItems[0]);
                                       
                                        var headng = document.createElement("H4");
                                        localStorage.setItem("titletext", title);
                                        headng.innerHTML = localStorage.getItem("titletext");
                                        headng.className = "tm-gold-text";
                                        list.insertBefore(headng,listItems[0]);

                                        var para = document.createElement("P");
                                        var blogcont = blog.slice(0,150)+"...";
                                        localStorage.setItem("contenttext",blogcont);
                                        para.innerHTML = localStorage.getItem("contenttext");
                                        list.insertBefore(para,listItems[0]);

                                        var hyperlnk = document.createElement("A");
                                        hyperlnk.innerHTML = "Read More";
                                        hyperlnk.className = "tm-btn";
                                        list.insertBefore(hyperlnk,listItems[0]);

                                        var brak1 = document.createElement("br");
                                        list.insertBefore(brak1,listItems[0]);
                                        
                                        var horizntl = document.createElement("hr");
                                        horizntl.className = "tm-margin-t-small";
                                        list.insertBefore(horizntl,listItems[0]);

                                        var brak2 = document.createElement("br");
                                        list.insertBefore(brak2,listItems[0]);
                                        

                                        document.getElementById ("titletxt").value = "";
                                        document.getElementById ("blogtxt").value = "";
                                        //document.getElementById ("imagetxt").src = reader.alt;
                                        //reader.readAsDataURL(files[0].files) = "null";
                                }
                                       
                                    }
                                
                                }
                            </script>
                            
                            <input type="submit" value="Add Blog" class="tm-btn text-uppercase" id="addblogbtn" onclick="addblog()" style="align-content: center; margin: auto; display: flex; justify-content: center; ;">
                           
                           
                        </div>
                        
                        
                    </aside>

                </div>
                
            </div>
        </section>
    

        <!-- load JS files -->
        <script src="js/jquery-1.11.3.min.js"></script>             <!-- jQuery (https://jquery.com/download/) -->
        <script src="https://www.atlasestateagents.co.uk/javascript/tether.min.js"></script> <!-- Tether for Bootstrap, http://stackoverflow.com/questions/34567939/how-to-fix-the-error-error-bootstrap-tooltips-require-tether-http-github-h --> 
        <script src="js/bootstrap.min.js"></script>                 <!-- Bootstrap (http://v4-alpha.getbootstrap.com/) -->
       
</body>
</html>
